<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <title>A D3 map using topojson</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>

  <link href="http://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
  <style>
    path {
      fill: #ccc;
      stroke: #fff;
      stroke-width: .5px;
    }
    
    path:hover {
      fill: red;
    }
  </style>
</head>

<body>
	<div id="chart"></div>
	<script>
		var width = 900,
		  height = 600;

		var path = d3.geoPath()
		  .projection(null);

		var svg = d3.select("#chart").append("svg")
		  .attr("width", width)
		  .attr("height", height);

		Promise.all([
			d3.json("https://www.covid19india.org/mini_maps/india.json"),
			d3.csv("population.csv")	
		]).then(ready);
		
		var add_tooltip = function(){
			var div = d3.select("#chart").append("div")
					.attr("class", "tooltip")
					.style("opacity", 0);
		};

		function ready(datasources) {
			let counties = datasources[0];
			let data = datasources[1];
			let mapInfo = topojson.feature(counties, counties.objects.states);
			console.log(data);
			svg.append("g")
				.selectAll("path")
				.data(mapInfo.features)
				.enter()
				.append("path")
				.attr("d", d => path(d))
				.attr("strock","black")
				.attr("fill","none");
				//.attr("class", "state");
			add_tooltip();
		}
	</script>
</body>

</html>